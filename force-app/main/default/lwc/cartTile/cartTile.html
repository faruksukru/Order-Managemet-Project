<template>
<!-- Used grid to show Cart Details and Order Summary next to each other -->
<div class="slds-grid slds-wrap">   

<div class="slds-size_3-of-4">
<!-- Cart Details Card start.-->
<lightning-card title="Cart Details" icon-name="utility:cart">
<!-- look if we have cart items-->
<template if:true={allCartItems}>
<!-- Used grid to show Cart item details next to each other -->    
<div class="slds-grid slds-wrap">
<!-- show each cart items' image, name, amount, delete button, sub total -->   
<template for:each={allCartItems} for:item="cartItem">
<!-- image division -->    
<div key={cartItem.Id} class="slds-size_1-of-4">   
<img  src={cartItem.Product__r.Product_Image__c} style="height: 100px; weight: 100px;"> 
</div>
<!-- name, amount, delete and +- buttons, and sub total division --> 
<div key={cartItem.Id} class="slds-size_3-of-4 slds-p-around_medium"> 
<h6 style="font-size: medium; font-weight:bold; font-family:Arial, Helvetica, 
sans-serif; color:black; text-align: left ">{cartItem.Product__r.Name}</h6>
<lightning-formatted-number   format-style="currency" currency-code="USD"
value={cartItem.Amount__c} class="price slds-text-align_left"
maximum-fraction-digits="0"></lightning-formatted-number>
<!-- additional grid division for delete and +- buttons --> 
<div class="slds-grid slds-wrap"> 
<div class="slds-size_1-of-3">
<lightning-button-icon value={cartItem.Id} onclick={handleDelete} icon-name="utility:delete"
alternative-text="Delete" title="Delete"></lightning-button-icon>
</div>
<div class="slds-size_2-of-3">
<div class="slds-form-element slds-text-align_center">
<div class="slds-form-element__control">
<!-- button-icon is small button with on click. Here title shows name we mouse come on the button.
we also have input shows quantity values changes with-+ button. Below part is a set you can use anywhere -->
<lightning-button-icon onclick={handleIncrement} name={cartItem.Quantity__c} value={cartItem.Id}
class="slds-button slds-button_icon slds-button_icon-small slds-input__button_increment"
icon-name="utility:add" alternative-text="Add" title="Add"></lightning-button-icon>
<input type="number" id="example-centered" value={cartItem.Quantity__c} onchange={handleQuantityChange}
class="slds-input slds-input_counter" />
<lightning-button-icon onclick={handleDecrement} name={cartItem.Quantity__c} value={cartItem.Id}
class="slds-button slds-button_icon slds-button_icon-small slds-input__button_decrement"
icon-name="utility:dash" alternative-text="Decrease" title="Decrease"></lightning-button-icon>
</div>
</div>
</div>
</div><br> 
<p style="font-size: 11pt "><strong>Sub Total:</strong>
<lightning-formatted-number  format-style="currency" currency-code="USD"
value={cartItem.TotalAmount__c} class="price slds-text-align_left"
maximum-fraction-digits="0"></lightning-formatted-number>
</p>
</div>

<!-- modal start to show choosen item to delete -->      
<template if:true={isShowModal}>
<section key={cartItem.Id} role="dialog" tabindex="-1" aria-modal="true" aria-labelledby="modal-heading-01" class="slds-modal slds-fade-in-open">
<div class="slds-modal__container">
<button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse">
<svg class="slds-button__icon slds-button__icon_large" aria-hidden="true">
<use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#close"></use>
</svg>
<span class="slds-assistive-text">Cancel and close</span>
</button>
<div class="slds-modal__header">
<h1 id="modal-heading-01" style="font-size:x-large ; font-weight:bold; font-family:Arial, Helvetica, 
sans-serif; color:rgb(223, 26, 217);"  class="slds-modal__title slds-hyphenate">Are You Sure to Delete!</h1>
</div>
<div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
<template for:each={deletedCartItemInfo} for:item="deletedItem"> 
<img key={deletedItem.Id} src={deletedItem.Product__r.Product_Image__c} style="height: 100px; weight: 100px;"
class="product slds-align_absolute-center">
<br key={deletedItem.Id}>
<h6  key={deletedItem.Id} style="font-size:medium ; text-align: center; font-weight:bold; font-family:Arial, Helvetica, 
sans-serif; color:rgb(119, 98, 242);"  class="slds-modal__title slds-hyphenate" >
{deletedItem.Product__r.Name} </h6> <br key={deletedItem.Id}> 
<h6 key={deletedItem.Id} style="font-size:medium ; text-align: center; font-weight:bold; font-family:Arial, Helvetica, 
sans-serif; color:rgb(119, 98, 242);"  class="slds-modal__title slds-hyphenate" >X
{deletedItem.Quantity__c} </h6> <br key={deletedItem.Id}> 
<div  key={deletedItem.Id} class="slds-align_absolute-center" >
<lightning-formatted-number  format-style="currency" currency-code="USD"
value={deletedItem.TotalAmount__c} class="price"
maximum-fraction-digits="0"></lightning-formatted-number>
</div>
</template>
</div>
<div class="slds-modal__footer slds-modal__footer_directional">
<button class="slds-button slds-button_brand" onclick={hideModalBox}>Cancel</button>
<button class="slds-button slds-button_brand"  value={cartItem.Id} onclick={deleteCartItem}>Delete</button>
</div>
</div>
</section>
<div key={cartItem.Id} class="slds-backdrop slds-backdrop_open" role="presentation"></div>
</template>
<!-- modal end --> 
</template>
</div>
</template>
</lightning-card>
</div>
<!-- Cart Details Card end.-->

<!-- Order Summary Card start.-->
<div class="slds-size_1-of-4">
<lightning-card title="Order Summary" icon-name="utility:cart">
<p  style="font-size: 15pt "><strong>Total Amount: </strong>
<!-- call getter to get total amount of cart-->
<lightning-formatted-number format-style="currency" currency-code="USD"
value={totalAmount} class="price1 slds-text-align_left"
maximum-fraction-digits="0"></lightning-formatted-number>
</p>
</lightning-card>
</div>
<!-- Order Summary Card end.-->

</div> 
</template>